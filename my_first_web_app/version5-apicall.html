<!DOCTYPE html>
<html lang="en"> 

    <head>
        <title>Hello World!</title>

        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="my third page - CW mobile views">
        <meta name="Author" content="Phil Lancelotte">

        <link rel="stylesheet" href="_css/mobile_styles.css">

    </head>
    <body>
        <div class="main-container">
            <header><h1 title='title'>API Calls - Courtesy of XKCD Comics....</h1></header>
        </div>
        <div class="main-container">
            <header id="welcomeHeader"></header>
        </div>
        <div class="main-container">
            <div class="container-wide">
                <div class="button-container">
                    <a href="index.html" class="button hover-effect-btn" aria-describedby="desc1">Back to Version 1</a>
                    <span id="desc1" class="visually-hidden">Go back to the previous version of the website</span>
                    <a href="version2-accessible.html" class="button hover-effect-btn" aria-describedby="desc2">Back to Version 2</a>
                    <span id="desc2" class="visually-hidden">Navigate to the accessible version of the site</span>
                    <a href="version3-mobile.html" class="button hover-effect-btn" aria-describedby="desc3">Back to Version 3</a>
                    <span id="desc2" class="visually-hidden">Navigate to the accessible version of the site for mobiles</span>
                    <a href="version4-formstuff.html" class="button hover-effect-btn" aria-describedby="desc3">Back to Version 4</a>
                    <span id="desc2" class="visually-hidden">Navigate to the java heavy version of the site with forms</span>

                </div>

                <p title='ooh, a paragraph'>My name is Phil, this is me with a blue beard - honestly, I am happy!!</p>
                <div class="img-container">
                    <label id="comicTitle">Sudo make me a sandwich!</label>

                    <img title='Blue Bearded Happy Man' id="me" class="img-fluid hover-effect" src ='_images/me.jpeg' alt="Man with a blue beard" width="200" >
                    <button onclick="document.getElementById('me').src='_images/me.jpeg'" class="hover-effect-btn">Upright Me</button> <!-- from w3schools - cx HTML attribute src -->
                    <button onclick="document.getElementById('me').src='_images/meflipped.jpeg'" class="hover-effect-btn">Upside down me</button> <!-- from w3schools - cx HTML attribute src -->
                </div>

            </div>
        </div>
                <button onclick="newComic()">Get a new one!!</button>
<script>

async function newComic() {
    const url = "https://xkcd.com/614/info.0.json";
    const proxyUrl = "https://thingproxy.freeboard.io/fetch/" + url;
    try {
      const response = await fetch(proxyUrl);
      const json = await response.json();
      document.getElementById("comicTitle").innerHTML = json.safe_title;
    } catch (error) {
      console.error("Error fetching comic:", error);
    }
}

</script>
    </body>
</html>